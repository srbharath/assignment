pipeline {
    agent any
    environment{
       MY_FILE = fileExists 'assignment'
  }

    stages {
        stage('clone repo') {
           when { expression { MY_FILE == 'false' } }
            steps {
                   bat "git clone https://github.com/srbharath/assignment.git"
                print "pulled the code"
            }
        }
         stage('compile') {
            steps {
                bat "cd assignment"
                bat "mvn compile"
            }
        }
         stage('package') {
            steps {
                bat "mvn package"
            }
        }
          
    }
}
